{"ast":null,"code":"import { userConstants } from \"./constants.js\";\nimport { cartConstants } from \"./constants.js\";\nimport axios from \"../helpers/axios\";\nexport const getAddress = () => {\n  return async dispatch => {\n    try {\n      const res = await axios.get(\"/user/getaddress\");\n      dispatch({\n        type: userConstants.GET_USER_ADDRESS_REQUEST\n      });\n\n      if (res.status === 200) {\n        const {\n          userAddress: {\n            address\n          }\n        } = res.data;\n        dispatch({\n          type: userConstants.GET_USER_ADDRESS_SUCCESS,\n          payload: {\n            address\n          }\n        });\n      } else {\n        const {\n          error\n        } = res.data;\n        dispatch({\n          type: userConstants.GET_USER_ADDRESS_FAILURE,\n          payload: {\n            error\n          }\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\nexport const addAddress = payload => {\n  return async dispatch => {\n    try {\n      const res = await axios.post(\"/user/address/create\", {\n        payload\n      });\n      dispatch({\n        type: userConstants.ADD_USER_ADDRESS_REQUEST\n      });\n      props.history.push('');\n\n      if (res.status == 201 || res.status == 204) {\n        console.log(res);\n        const {\n          userAddress: {\n            address\n          }\n        } = res.data;\n        dispatch({\n          type: userConstants.ADD_USER_ADDRESS_SUCCESS,\n          payload: {\n            address\n          }\n        });\n      } else {\n        const {\n          error\n        } = res.data;\n        dispatch({\n          type: userConstants.ADD_USER_ADDRESS_FAILURE,\n          payload: {\n            error\n          }\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\nexport const addOrder = payload => {\n  return async dispatch => {\n    try {\n      const res = await axios.post(`/addOrder`, payload);\n      dispatch({\n        type: userConstants.ADD_USER_ORDER_REQUEST\n      });\n\n      if (res.status === 201) {\n        console.log(res);\n        const {\n          order\n        } = res.data;\n        dispatch({\n          type: cartConstants.RESET_CART\n        });\n        dispatch({\n          type: userConstants.ADD_USER_ORDER_SUCCESS,\n          payload: {\n            order\n          }\n        });\n        const {\n          address: {\n            address\n          }\n        } = res.data;\n        dispatch({\n          type: userConstants.ADD_USER_ADDRESS_SUCCESS,\n          payload: {\n            address\n          }\n        });\n      } else {\n        const {\n          error\n        } = res.data;\n        dispatch({\n          type: userConstants.ADD_USER_ORDER_FAILURE,\n          payload: {\n            error\n          }\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};","map":{"version":3,"sources":["/home/mdalif/Desktop/coding/Flipkart_Clone/flipkart_clone/src/actions/user.action.js"],"names":["userConstants","cartConstants","axios","getAddress","dispatch","res","get","type","GET_USER_ADDRESS_REQUEST","status","userAddress","address","data","GET_USER_ADDRESS_SUCCESS","payload","error","GET_USER_ADDRESS_FAILURE","console","log","addAddress","post","ADD_USER_ADDRESS_REQUEST","props","history","push","ADD_USER_ADDRESS_SUCCESS","ADD_USER_ADDRESS_FAILURE","addOrder","ADD_USER_ORDER_REQUEST","order","RESET_CART","ADD_USER_ORDER_SUCCESS","ADD_USER_ORDER_FAILURE"],"mappings":"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","sourcesContent":["import { userConstants } from \"./constants.js\";\nimport { cartConstants } from \"./constants.js\";\nimport axios from \"../helpers/axios\";\n\nexport const getAddress = () => {\n\treturn async (dispatch) => {\n\t\ttry {\n\t\t\tconst res = await axios.get(\"/user/getaddress\");\n\t\t\tdispatch({ type: userConstants.GET_USER_ADDRESS_REQUEST });\n\t\t\tif (res.status === 200) {\n\t\t\t\tconst {\n\t\t\t\t\tuserAddress: { address },\n\t\t\t\t} = res.data;\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: userConstants.GET_USER_ADDRESS_SUCCESS,\n\t\t\t\t\tpayload: { address },\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst { error } = res.data;\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: userConstants.GET_USER_ADDRESS_FAILURE,\n\t\t\t\t\tpayload: { error },\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n};\n\nexport const addAddress = (payload) => {\n\treturn async (dispatch) => {\n\t\ttry {\n\t\t\tconst res = await axios.post(\"/user/address/create\", { payload });\n\t\t\tdispatch({ type: userConstants.ADD_USER_ADDRESS_REQUEST });\n\t\t\tprops.history.push('')\n\t\t\tif (res.status == 201 || res.status == 204) {\n\t\t\t\tconsole.log(res);\n\t\t\t\tconst {\n\t\t\t\t\tuserAddress:{\n\t\t\t\t     address\n\t\t\t\t   }}=res.data\n\t\t\t\tdispatch({\n\t\t\t\t    type:userConstants.ADD_USER_ADDRESS_SUCCESS,\n\t\t\t\t    payload:{address}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tconst { error } = res.data;\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: userConstants.ADD_USER_ADDRESS_FAILURE,\n\t\t\t\t\tpayload: { error },\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n};\n\nexport const addOrder = (payload) => {\n\treturn async (dispatch) => {\n\t\ttry {\n\t\t\tconst res = await axios.post(`/addOrder`, payload);\n\t\t\tdispatch({ type: userConstants.ADD_USER_ORDER_REQUEST });\n\t\t\tif (res.status === 201) {\n\t\t\t\tconsole.log(res);\n\t\t\t\tconst { order } = res.data;\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: cartConstants.RESET_CART,\n\t\t\t\t});\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: userConstants.ADD_USER_ORDER_SUCCESS,\n\t\t\t\t\tpayload: { order },\n\t\t\t\t});\n\t\t\t\tconst {\n\t\t\t\t  address: { address },\n\t\t\t\t} = res.data;\n\t\t\t\tdispatch({\n\t\t\t\t  type: userConstants.ADD_USER_ADDRESS_SUCCESS,\n\t\t\t\t  payload: { address },\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst { error } = res.data;\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: userConstants.ADD_USER_ORDER_FAILURE,\n\t\t\t\t\tpayload: { error },\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n};\n"]},"metadata":{},"sourceType":"module"}