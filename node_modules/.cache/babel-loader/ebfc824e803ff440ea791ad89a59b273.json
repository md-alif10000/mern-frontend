{"ast":null,"code":"import _regeneratorRuntime from\"/home/mdalif/Desktop/coding/MERN/mern-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mdalif/Desktop/coding/MERN/mern-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"../helpers/axios.js\";import{productConstants}from\"./constants\";export var getProductsBySlug=function getProductsBySlug(slug){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/products/\".concat(slug));case 2:res=_context.sent;console.log(res);if(res.status===200){dispatch({type:productConstants.GET_PRODUCTS_BY_SLUG,payload:res.data});}else{// dispatch({\n//     type\n// })\n}case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getProductPage=function getProductPage(payload){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var params,cid,type,res,page,error;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;params=payload.params;cid=params.cid,type=params.type;console.log(cid);console.log(type);_context2.next=7;return axios.get(\"/page/\".concat(cid,\"/\").concat(type));case 7:res=_context2.sent;console.log(res);dispatch({type:productConstants.GET_PRODUCT_PAGE_REQUEST});if(res.status===200){page=res.data.page;dispatch({type:productConstants.GET_PRODUCT_PAGE_SUCCESS,payload:{page:page}});}else{error=res.data.error;dispatch({type:productConstants.GET_PRODUCT_PAGE_FAILURE,payload:{error:error}});}_context2.next=16;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[0,13]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var getProductDetailsById=function getProductDetailsById(payload){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var res,productId;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:productConstants.GET_PRODUCT_DETAILS_BY_ID_REQUEST});_context3.prev=1;productId=payload.params.productId;_context3.next=5;return axios.get(\"/product/\".concat(productId));case 5:res=_context3.sent;console.log(res);dispatch({type:productConstants.GET_PRODUCT_DETAILS_BY_ID_SUCCESS,payload:{productDetails:res.data.product}});_context3.next=14;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](1);console.log(_context3.t0);dispatch({type:productConstants.GET_PRODUCT_DETAILS_BY_ID_FAILURE,payload:{error:_context3.t0}});case 14:case\"end\":return _context3.stop();}}},_callee3,null,[[1,10]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var getProducts=function getProducts(){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var res,products;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;dispatch({type:productConstants.GET_ALL_PRODUCTS_REQUEST});_context4.next=4;return axios.get(\"/getAllProducts\");case 4:res=_context4.sent;if(res.status===200){products=res.data.products;dispatch({type:productConstants.GET_ALL_PRODUCTS_SUCCESS,payload:{products:products}});}else{dispatch({type:productConstants.GET_ALL_PRODUCTS_FAILURE});}_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[0,8]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var addReview=function addReview(details){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var res,params,payload;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:dispatch({type:productConstants.ADD_REVIEW_REQUEST});_context5.next=3;return axios.post('/product/addReview',details);case 3:res=_context5.sent;if(res.status==201){dispatch({type:productConstants.ADD_REVIEW_SUCCESS,payload:res.data});console.log(details);params=details;payload={params:params};dispatch(getProductDetailsById(payload));}if(res.status==400){dispatch({type:productConstants.ADD_REVIEW_FAILURE});}case 6:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x5){return _ref5.apply(this,arguments);};}();};","map":{"version":3,"sources":["/home/mdalif/Desktop/coding/MERN/mern-frontend/src/actions/product.action.js"],"names":["axios","productConstants","getProductsBySlug","slug","dispatch","get","res","console","log","status","type","GET_PRODUCTS_BY_SLUG","payload","data","getProductPage","params","cid","GET_PRODUCT_PAGE_REQUEST","page","GET_PRODUCT_PAGE_SUCCESS","error","GET_PRODUCT_PAGE_FAILURE","getProductDetailsById","GET_PRODUCT_DETAILS_BY_ID_REQUEST","productId","GET_PRODUCT_DETAILS_BY_ID_SUCCESS","productDetails","product","GET_PRODUCT_DETAILS_BY_ID_FAILURE","getProducts","GET_ALL_PRODUCTS_REQUEST","products","GET_ALL_PRODUCTS_SUCCESS","GET_ALL_PRODUCTS_FAILURE","addReview","details","ADD_REVIEW_REQUEST","post","ADD_REVIEW_SUCCESS","ADD_REVIEW_FAILURE"],"mappings":"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","sourcesContent":["import axios from \"../helpers/axios.js\";\nimport { productConstants } from \"./constants\";\n\nexport const getProductsBySlug = (slug) => {\n\treturn async (dispatch) => {\n\t\tconst res = await axios.get(`/products/${slug}`);\n\t\tconsole.log(res);\n\t\tif (res.status === 200) {\n\t\t\tdispatch({\n\t\t\t\ttype: productConstants.GET_PRODUCTS_BY_SLUG,\n\t\t\t\tpayload: res.data,\n\t\t\t});\n\t\t} else {\n\t\t\t// dispatch({\n\t\t\t//     type\n\t\t\t// })\n\t\t}\n\t};\n};\n\nexport const getProductPage = (payload) => {\n\treturn async (dispatch) => {\n\t\ttry {\n\t\t\tconst { params } = payload;\n\t\t\tconst { cid, type } = params;\n\n\t\t\tconsole.log(cid);\n            console.log(type)\n\t\t\tconst res = await axios.get(`/page/${cid}/${type}`);\n\t\t\tconsole.log(res);\n\t\t\tdispatch({ type: productConstants.GET_PRODUCT_PAGE_REQUEST });\n\t\t\tif (res.status === 200) {\n\t\t\t\tconst { page } = res.data;\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: productConstants.GET_PRODUCT_PAGE_SUCCESS,\n\t\t\t\t\tpayload: { page },\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst { error } = res.data;\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: productConstants.GET_PRODUCT_PAGE_FAILURE,\n\t\t\t\t\tpayload: { error },\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n};\n\n\n\n\nexport const getProductDetailsById=(payload)=>{\n\treturn async dispatch=>{\n\t\tdispatch({type:productConstants.GET_PRODUCT_DETAILS_BY_ID_REQUEST})\n\t\tlet res\n\t\ttry{\n\t\t\tconst {productId}=payload.params;\n\t\t\tres=await axios.get(`/product/${productId}`)\n\t\t\tconsole.log(res)\n\t\t\t\n\n\t\t\tdispatch({type:productConstants.GET_PRODUCT_DETAILS_BY_ID_SUCCESS,\n\t\t\tpayload:{productDetails:res.data.product}})\n\t\t}catch(error){\n\t\t\tconsole.log(error)\n\t\t\tdispatch({type:productConstants.GET_PRODUCT_DETAILS_BY_ID_FAILURE,\n\t\t\tpayload:{error}})\n\t\t}\n\t}\n}\n\n\n\n\nexport const getProducts = () => {\n\treturn async (dispatch) => {\n\t\ttry {\n\t\t\tdispatch({ type: productConstants.GET_ALL_PRODUCTS_REQUEST });\n\t\t\tconst res = await axios.get(`/getAllProducts`);\n\t\t\tif (res.status === 200) {\n\t\t\t\tconst { products } = res.data;\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: productConstants.GET_ALL_PRODUCTS_SUCCESS,\n\t\t\t\t\tpayload: { products },\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tdispatch({ type: productConstants.GET_ALL_PRODUCTS_FAILURE });\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n};\n\n\nexport const addReview=(details)=>{\n\treturn async (dispatch)=>{\n\t\tdispatch({type:productConstants.ADD_REVIEW_REQUEST})\n\t\tconst res=await axios.post('/product/addReview',details)\n\t\tif(res.status==201){\n\t\t\tdispatch({type:productConstants.ADD_REVIEW_SUCCESS,\n\t\t\tpayload:res.data})\n\t\t\tconsole.log(details)\n\t\t\tlet params=details\n\t\t\tlet payload={params}\n\t\t\tdispatch(getProductDetailsById(payload));\n\n\t\t}\n\t\tif(res.status==400) {\n\t\t\tdispatch({type:productConstants.ADD_REVIEW_FAILURE})\n\n\t\t}\n\t}\n}"]},"metadata":{},"sourceType":"module"}