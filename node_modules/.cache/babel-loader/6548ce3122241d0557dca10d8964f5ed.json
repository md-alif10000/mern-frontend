{"ast":null,"code":"import _slicedToArray from\"/home/mdalif/Desktop/coding/MERN/mern-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Layout from\"../../components/Layout\";import{useSelector,useDispatch}from\"react-redux\";import{addToCart,decreaseCart,getCartItems}from\"../../actions/cart.action\";import{validateCoupon}from'../../actions/user.action';import\"./style2.css\";import CartItem2 from\"./CartItem/index2\";import{Link}from\"react-router-dom\";import Header from\"../../components/Header/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var TotalPrice=function TotalPrice(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),couponInput=_useState2[0],setCouponInput=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),couponName=_useState4[0],setCouponName=_useState4[1];var cart=useSelector(function(state){return state.cart;});var dispatch=useDispatch();var coupon=JSON.parse(localStorage.getItem(\"coupon\"));var couponValidation=function couponValidation(e){e.preventDefault();dispatch(validateCoupon({couponName:couponName}));};var afterDeliveryCharge=Object.keys(cart.cartItems).reduce(function(totalPrice,key){var _cart$cartItems$key=cart.cartItems[key],price=_cart$cartItems$key.price,qty=_cart$cartItems$key.qty;return totalPrice+price*qty;},0);var couponDiscont=coupon?afterDeliveryCharge*(coupon.amount*(1/100)):null;var afterDiscount=coupon?afterDeliveryCharge-couponDiscont+50:null;return/*#__PURE__*/_jsxs(\"div\",{className:\"total-price text-left\",children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Subtotal\"}),/*#__PURE__*/_jsx(\"td\",{children:Object.keys(cart.cartItems).reduce(function(totalPrice,key){var _cart$cartItems$key2=cart.cartItems[key],price=_cart$cartItems$key2.price,qty=_cart$cartItems$key2.qty;return totalPrice+price*qty;},0)})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Delivery Charge\"}),/*#__PURE__*/_jsx(\"td\",{children:\"50\"})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"td\",{children:Object.keys(cart.cartItems).reduce(function(totalPrice,key){var _cart$cartItems$key3=cart.cartItems[key],price=_cart$cartItems$key3.price,qty=_cart$cartItems$key3.qty;return totalPrice+price*qty;},50)})]}),coupon?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\"Coupon--\",coupon.name]}),/*#__PURE__*/_jsx(\"td\",{children:couponDiscont})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Total--\"}),/*#__PURE__*/_jsx(\"td\",{children:afterDiscount})]})]}):null]}),couponInput?null:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success btn-lg m-3\",onClick:function onClick(e){return setCouponInput(true);},children:\"Add Coupon\"}),couponInput?/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"m-3 input d\",maxLength:\"15\",type:\"txt\",placeholder:\"Enter your coupon code\",onChange:function onChange(e){return setCouponName(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-lg m-2\",onClick:function onClick(e){return couponValidation(e);},children:\"Submit\"})]}):null,props.nextStep?null:/*#__PURE__*/_jsx(Link,{to:\"/checkout\",className:\"checkout-btn\"// onClick={() => <Redirect to='/checkout' />}\n,children:/*#__PURE__*/_jsx(\"h4\",{children:\"Proceed To Checkout\"})})]});};export default function CartPage3(props){var cart=useSelector(function(state){return state.cart;});var auth=useSelector(function(state){return state.auth;});var dispatch=useDispatch();// const cartItems = cart.cartItems;\nvar _useState5=useState(cart.cartItems),_useState6=_slicedToArray(_useState5,2),cartItems=_useState6[0],setCartItems=_useState6[1];useEffect(function(){setCartItems(cart.cartItems);},[cart.cartItems]);useEffect(function(){if(auth.authenticate){dispatch(getCartItems());}},[auth.authenticate]);var onQuantityIncrement=function onQuantityIncrement(_id,qty){var _cartItems$_id=cartItems[_id],name=_cartItems$_id.name,price=_cartItems$_id.price,img=_cartItems$_id.img;dispatch(addToCart({_id:_id,name:name,price:price,img:img},1));};var onQuantityDecrement=function onQuantityDecrement(_id,qty){var _cartItems$_id2=cartItems[_id],name=_cartItems$_id2.name,price=_cartItems$_id2.price,img=_cartItems$_id2.img;dispatch(addToCart({_id:_id,name:name,price:price,img:img},-1));};if(props.onlyCartItems){return/*#__PURE__*/_jsxs(_Fragment,{children:[Object.keys(cartItems).map(function(key,index){return/*#__PURE__*/_jsx(CartItem2,{cartItem:cartItems[key],onQuantityInc:onQuantityIncrement,onQuantityDec:onQuantityDecrement},index);}),/*#__PURE__*/_jsx(TotalPrice,{nextStep:true})]});}console.log(cart.cartItems);if(cart.cartItems.length<0){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{fixed:true}),/*#__PURE__*/_jsx(\"div\",{class:\"container-fluid mt-100\",children:/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card-body cart\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"col-sm-12 empty-cart-cls text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://i.imgur.com/dCdflKN.png\",width:\"170\",height:\"170\",class:\"img-fluid mb-3 mr-3\"}),/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Your Cart is Empty\"})}),/*#__PURE__*/_jsx(\"h4\",{children:\"Add something to make me happy :)\"}),\" \",/*#__PURE__*/_jsx(\"a\",{href:\"/\",class:\"btn btn-primary cart-btn-transform m-3\",\"data-abc\":\"true\",children:/*#__PURE__*/_jsx(\"h2\",{children:\" Continue shopping\"})})]})})})})})})]});}else{return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-1 pt-1 cart\",children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Subtotal\"})]}),Object.keys(cartItems).map(function(key,index){return/*#__PURE__*/_jsx(CartItem2,{cartItem:cartItems[key],onQuantityInc:onQuantityIncrement,onQuantityDec:onQuantityDecrement},index);})]}),/*#__PURE__*/_jsx(TotalPrice,{})]})});}}","map":{"version":3,"sources":["/home/mdalif/Desktop/coding/MERN/mern-frontend/src/containers/CartPage/index3.js"],"names":["React","useState","useEffect","Layout","useSelector","useDispatch","addToCart","decreaseCart","getCartItems","validateCoupon","CartItem2","Link","Header","TotalPrice","props","couponInput","setCouponInput","couponName","setCouponName","cart","state","dispatch","coupon","JSON","parse","localStorage","getItem","couponValidation","e","preventDefault","afterDeliveryCharge","Object","keys","cartItems","reduce","totalPrice","key","price","qty","couponDiscont","amount","afterDiscount","name","target","value","nextStep","CartPage3","auth","setCartItems","authenticate","onQuantityIncrement","_id","img","onQuantityDecrement","onlyCartItems","map","index","console","log","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Layout from \"../../components/Layout\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n\taddToCart,\n\tdecreaseCart,\n\tgetCartItems,\n\t\n} from \"../../actions/cart.action\";\nimport {validateCoupon} from '../../actions/user.action'\nimport \"./style2.css\";\nimport CartItem2 from \"./CartItem/index2\";\nimport { Link } from \"react-router-dom\";\nimport Header from \"../../components/Header/index\";\n\nexport const TotalPrice = (props) => {\n\tconst [couponInput, setCouponInput] = useState(false)\n\tconst [couponName, setCouponName] = useState('')\n\tconst cart = useSelector((state) => state.cart);\n\tconst dispatch = useDispatch()\n\n\n\tconst coupon = JSON.parse(localStorage.getItem(\"coupon\")); \n\n\n\tconst couponValidation=(e)=>{\n\t\te.preventDefault()\n\t\tdispatch(validateCoupon({ couponName }));\n\t}\n\n\n\tconst afterDeliveryCharge=Object.keys(cart.cartItems).reduce((totalPrice, key) => {\n\t\t\t\t\t\t\tconst { price, qty } = cart.cartItems[key];\n\t\t\t\t\t\t\treturn totalPrice + price * qty;\n\t\t\t\t\t\t},0)\n\n\t\t\t\t\t\n\t\t\tconst couponDiscont= coupon?  afterDeliveryCharge\t* (coupon.amount\t* (1/100))\t:null\n\t\t\tconst afterDiscount =coupon? (afterDeliveryCharge - couponDiscont)+50:null\n\n\n\n\treturn (\n\t\t<div className='total-price text-left'>\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>Subtotal</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t{Object.keys(cart.cartItems).reduce((totalPrice, key) => {\n\t\t\t\t\t\t\tconst { price, qty } = cart.cartItems[key];\n\t\t\t\t\t\t\treturn totalPrice + price * qty;\n\t\t\t\t\t\t}, 0)}\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>Delivery Charge</td>\n\t\t\t\t\t<td>50</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>Total</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t{Object.keys(cart.cartItems).reduce((totalPrice, key) => {\n\t\t\t\t\t\t\tconst { price, qty } = cart.cartItems[key];\n\t\t\t\t\t\t\treturn totalPrice + price * qty;\n\t\t\t\t\t\t}, 50)}\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t{coupon ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>Coupon--{coupon.name}</td>\n\t\t\t\t\t\t\t<td>{couponDiscont}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>Total--</td>\n\t\t\t\t\t\t\t<td>{afterDiscount}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</>\n\t\t\t\t) : null}\n\t\t\t</table>\n\n\t\t\t{couponInput ? null : (\n\t\t\t\t<button\n\t\t\t\t\tclassName='btn btn-success btn-lg m-3'\n\t\t\t\t\tonClick={(e) => setCouponInput(true)}>\n\t\t\t\t\tAdd Coupon\n\t\t\t\t</button>\n\t\t\t)}\n\n\t\t\t{couponInput ? (\n\t\t\t\t<div className='d-flex'>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName='m-3 input d'\n\t\t\t\t\t\tmaxLength='15'\n\t\t\t\t\t\ttype='txt'\n\t\t\t\t\t\tplaceholder='Enter your coupon code'\n\t\t\t\t\t\tonChange={(e) => setCouponName(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='btn btn-danger btn-lg m-2'\n\t\t\t\t\t\tonClick={(e) => couponValidation(e)}>\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t\t{props.nextStep ? null : (\n\t\t\t\t<Link\n\t\t\t\t\tto='/checkout'\n\t\t\t\t\tclassName='checkout-btn'\n\t\t\t\t\t// onClick={() => <Redirect to='/checkout' />}\n\t\t\t\t>\n\t\t\t\t\t<h4>Proceed To Checkout</h4>\n\t\t\t\t</Link>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default function CartPage3(props) {\n\tconst cart = useSelector((state) => state.cart);\n\tconst auth = useSelector((state) => state.auth);\n\tconst dispatch = useDispatch();\n\t// const cartItems = cart.cartItems;\n\tconst [cartItems, setCartItems] = useState(cart.cartItems);\n\n\tuseEffect(() => {\n\t\tsetCartItems(cart.cartItems);\n\t}, [cart.cartItems]);\n\n\tuseEffect(() => {\n\t\tif (auth.authenticate) {\n\t\t\tdispatch(getCartItems());\n\t\t}\n\t}, [auth.authenticate]);\n\n\tconst onQuantityIncrement = (_id, qty) => {\n\t\tconst { name, price, img } = cartItems[_id];\n\n\t\tdispatch(addToCart({ _id, name, price, img }, 1));\n\t};\n\n\tconst onQuantityDecrement = (_id, qty) => {\n\t\tconst { name, price, img } = cartItems[_id];\n\n\t\tdispatch(addToCart({ _id, name, price, img }, -1));\n\t};\n\tif (props.onlyCartItems) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t\n\t\t\t\t{Object.keys(cartItems).map((key, index) => (\n\t\t\t\t\t<CartItem2\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tcartItem={cartItems[key]}\n\t\t\t\t\t\tonQuantityInc={onQuantityIncrement}\n\t\t\t\t\t\tonQuantityDec={onQuantityDecrement}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t\t<TotalPrice nextStep />\n\t\t\t</>\n\t\t);\n\t}\n\n\tconsole.log(cart.cartItems);\n\n\tif (cart.cartItems.length < 0) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Header fixed />\n\t\t\t\t<div class='container-fluid mt-100'>\n\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t<div class='col-md-12'>\n\t\t\t\t\t\t\t<div class='card'>\n\t\t\t\t\t\t\t\t<div class='card-body cart'>\n\t\t\t\t\t\t\t\t\t<div class='col-sm-12 empty-cart-cls text-center'>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tsrc='https://i.imgur.com/dCdflKN.png'\n\t\t\t\t\t\t\t\t\t\t\twidth='170'\n\t\t\t\t\t\t\t\t\t\t\theight='170'\n\t\t\t\t\t\t\t\t\t\t\tclass='img-fluid mb-3 mr-3'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t\t<strong>Your Cart is Empty</strong>\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t<h4>Add something to make me happy :)</h4>{\" \"}\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref='/'\n\t\t\t\t\t\t\t\t\t\t\tclass='btn btn-primary cart-btn-transform m-3'\n\t\t\t\t\t\t\t\t\t\t\tdata-abc='true'>\n\t\t\t\t\t\t\t\t\t\t\t<h2> Continue shopping</h2>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<Layout>\n\t\t\t\t<div className='container mt-1 pt-1 cart'>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Product</th>\n\t\t\t\t\t\t\t<th>Quantity</th>\n\t\t\t\t\t\t\t<th>Subtotal</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t{Object.keys(cartItems).map((key, index) => (\n\t\t\t\t\t\t\t<CartItem2\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tcartItem={cartItems[key]}\n\t\t\t\t\t\t\t\tonQuantityInc={onQuantityIncrement}\n\t\t\t\t\t\t\t\tonQuantityDec={onQuantityDecrement}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</table>\n\n\t\t\t\t\t<TotalPrice />\n\t\t\t\t</div>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}